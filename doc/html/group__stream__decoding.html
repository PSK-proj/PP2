<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PP2: Decoding</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PP2
   </div>
   <div id="projectbrief">Gra Saper</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Wygenerowano przez Doxygen 1.8.15 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__stream__decoding.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Decoding</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Functions for decoding audio data</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp226a9332d44ee54e9c863d78e0829f0d"></a>These functions retrieve actual decoded audio data from the stream.</p>
<p>The general functions, <a class="el" href="group__stream__decoding.html#ga963c917749335e29bb2b698c1cb20a10" title="Reads more samples from the stream.">op_read()</a> and <a class="el" href="group__stream__decoding.html#ga73493002d84a234f5e19b70f1dddbe2a" title="Reads more samples from the stream.">op_read_float()</a> return 16-bit or floating-point output, both using native endian ordering. The number of channels returned can change from link to link in a chained stream. There are special functions, <a class="el" href="group__stream__decoding.html#gaaca17ad3fd6430dc8fd43308149428eb" title="Reads more samples from the stream and downmixes to stereo, if necessary.">op_read_stereo()</a> and <a class="el" href="group__stream__decoding.html#ga9736f96563500c0978f56f0fd6bdad83" title="Reads more samples from the stream and downmixes to stereo, if necessary.">op_read_float_stereo()</a>, which always output two channels, to simplify applications which do not wish to handle multichannel audio. These downmix multichannel files to two channels, so they can always return samples in the same format for every link in a chained file.</p>
<p>If the rest of your audio processing chain can handle floating point, the floating-point routines should be preferred, as they prevent clipping and other issues which might be avoided entirely if, e.g., you scale down the volume at some other stage. However, if you intend to consume 16-bit samples directly, the conversion in <code>libopusfile</code> provides noise-shaping dithering and, if compiled against <code>libopus</code>&#160;1.1 or later, soft-clipping prevention.</p>
<p><code>libopusfile</code> can also be configured at compile time to use the fixed-point <code>libopus</code> API. If so, <code>libopusfile</code>'s floating-point API may also be disabled. In that configuration, nothing in <code>libopusfile</code> will use any floating-point operations, to simplify support on devices without an adequate FPU.</p>
<dl class="section warning"><dt>Ostrzeżenie</dt><dd>HTTPS streams may be be vulnerable to truncation attacks if you do not check the error return code from <a class="el" href="group__stream__decoding.html#ga73493002d84a234f5e19b70f1dddbe2a" title="Reads more samples from the stream.">op_read_float()</a> or its associated functions. If the remote peer does not close the connection gracefully (with a TLS "close notify" message), these functions will return <a class="el" href="group__error__codes.html#ga3ad48a4f99b1bed72acec552296dfc08" title="An underlying read, seek, or tell operation failed when it should have succeeded.">OP_EREAD</a> instead of 0 when they reach the end of the file. If you are reading from an &lt;https:&gt; URL (particularly if seeking is not supported), you should make sure to check for this error and warn the user appropriately. </dd></dl>
</td></tr>
<tr class="memitem:ga81a50874a82484034c22dfeddce177e1"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__decoding.html#ga81a50874a82484034c22dfeddce177e1">op_decode_cb_func</a>) (<a class="el" href="png_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *_ctx, <a class="el" href="group__opus__multistream.html#gad3497495deb9a8ace82e76cd4f93e0e4">OpusMSDecoder</a> *_decoder, <a class="el" href="png_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *_pcm, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="structogg__packet.html">ogg_packet</a> *_op, int _nsamples, int _nchannels, int _format, int _li)</td></tr>
<tr class="memdesc:ga81a50874a82484034c22dfeddce177e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to decode an Opus packet.  <a href="#ga81a50874a82484034c22dfeddce177e1">Więcej...</a><br /></td></tr>
<tr class="separator:ga81a50874a82484034c22dfeddce177e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0d5b986dff23a82b6002915268ee3d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="png_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__decoding.html#gae0d5b986dff23a82b6002915268ee3d1">op_set_decode_callback</a> (OggOpusFile *_of, <a class="el" href="group__stream__decoding.html#ga81a50874a82484034c22dfeddce177e1">op_decode_cb_func</a> _decode_cb, <a class="el" href="png_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *_ctx) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:gae0d5b986dff23a82b6002915268ee3d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the packet decode callback function.  <a href="#gae0d5b986dff23a82b6002915268ee3d1">Więcej...</a><br /></td></tr>
<tr class="separator:gae0d5b986dff23a82b6002915268ee3d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7df927613ccf57996319678e08513289"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__decoding.html#ga7df927613ccf57996319678e08513289">op_set_gain_offset</a> (OggOpusFile *_of, int _gain_type, <a class="el" href="opus__types_8h.html#aa4d309d6f80b99dbabebc8f98879ab9a">opus_int32</a> _gain_offset_q8) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga7df927613ccf57996319678e08513289"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the gain to be used for decoded output.  <a href="#ga7df927613ccf57996319678e08513289">Więcej...</a><br /></td></tr>
<tr class="separator:ga7df927613ccf57996319678e08513289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1de9480ad0fa65de778d9c88f62f6f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="png_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__decoding.html#gac1de9480ad0fa65de778d9c88f62f6f3">op_set_dither_enabled</a> (OggOpusFile *_of, int _enabled) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:gac1de9480ad0fa65de778d9c88f62f6f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets whether or not dithering is enabled for 16-bit decoding.  <a href="#gac1de9480ad0fa65de778d9c88f62f6f3">Więcej...</a><br /></td></tr>
<tr class="separator:gac1de9480ad0fa65de778d9c88f62f6f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga963c917749335e29bb2b698c1cb20a10"><td class="memItemLeft" align="right" valign="top">OP_WARN_UNUSED_RESULT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__decoding.html#ga963c917749335e29bb2b698c1cb20a10">op_read</a> (OggOpusFile *_of, <a class="el" href="opus__types_8h.html#acc9ed7cf60479eb81f9648c6ec27dc26">opus_int16</a> *_pcm, int _buf_size, int *_li) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga963c917749335e29bb2b698c1cb20a10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads more samples from the stream.  <a href="#ga963c917749335e29bb2b698c1cb20a10">Więcej...</a><br /></td></tr>
<tr class="separator:ga963c917749335e29bb2b698c1cb20a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga73493002d84a234f5e19b70f1dddbe2a"><td class="memItemLeft" align="right" valign="top">OP_WARN_UNUSED_RESULT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__decoding.html#ga73493002d84a234f5e19b70f1dddbe2a">op_read_float</a> (OggOpusFile *_of, float *_pcm, int _buf_size, int *_li) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga73493002d84a234f5e19b70f1dddbe2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads more samples from the stream.  <a href="#ga73493002d84a234f5e19b70f1dddbe2a">Więcej...</a><br /></td></tr>
<tr class="separator:ga73493002d84a234f5e19b70f1dddbe2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaca17ad3fd6430dc8fd43308149428eb"><td class="memItemLeft" align="right" valign="top">OP_WARN_UNUSED_RESULT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__decoding.html#gaaca17ad3fd6430dc8fd43308149428eb">op_read_stereo</a> (OggOpusFile *_of, <a class="el" href="opus__types_8h.html#acc9ed7cf60479eb81f9648c6ec27dc26">opus_int16</a> *_pcm, int _buf_size) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:gaaca17ad3fd6430dc8fd43308149428eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads more samples from the stream and downmixes to stereo, if necessary.  <a href="#gaaca17ad3fd6430dc8fd43308149428eb">Więcej...</a><br /></td></tr>
<tr class="separator:gaaca17ad3fd6430dc8fd43308149428eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9736f96563500c0978f56f0fd6bdad83"><td class="memItemLeft" align="right" valign="top">OP_WARN_UNUSED_RESULT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__decoding.html#ga9736f96563500c0978f56f0fd6bdad83">op_read_float_stereo</a> (OggOpusFile *_of, float *_pcm, int _buf_size) OP_ARG_NONNULL(1)</td></tr>
<tr class="memdesc:ga9736f96563500c0978f56f0fd6bdad83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads more samples from the stream and downmixes to stereo, if necessary.  <a href="#ga9736f96563500c0978f56f0fd6bdad83">Więcej...</a><br /></td></tr>
<tr class="separator:ga9736f96563500c0978f56f0fd6bdad83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55ed1cb616d856a47d618fa099c742aa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__decoding.html#ga55ed1cb616d856a47d618fa099c742aa">OP_DEC_FORMAT_SHORT</a>&#160;&#160;&#160;(7008)</td></tr>
<tr class="memdesc:ga55ed1cb616d856a47d618fa099c742aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates that the decoding callback should produce signed 16-bit native-endian output samples.  <a href="#ga55ed1cb616d856a47d618fa099c742aa">Więcej...</a><br /></td></tr>
<tr class="separator:ga55ed1cb616d856a47d618fa099c742aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5c6e0837a5d747fd909aff905f5da3f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__decoding.html#gac5c6e0837a5d747fd909aff905f5da3f">OP_DEC_FORMAT_FLOAT</a>&#160;&#160;&#160;(7040)</td></tr>
<tr class="memdesc:gac5c6e0837a5d747fd909aff905f5da3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates that the decoding callback should produce 32-bit native-endian float samples.  <a href="#gac5c6e0837a5d747fd909aff905f5da3f">Więcej...</a><br /></td></tr>
<tr class="separator:gac5c6e0837a5d747fd909aff905f5da3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf421eba19d82d5b0c170b548b8ff79f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__decoding.html#gaf421eba19d82d5b0c170b548b8ff79f1">OP_DEC_USE_DEFAULT</a>&#160;&#160;&#160;(6720)</td></tr>
<tr class="memdesc:gaf421eba19d82d5b0c170b548b8ff79f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates that the decoding callback did not decode anything, and that <code>libopusfile</code> should decode normally instead.  <a href="#gaf421eba19d82d5b0c170b548b8ff79f1">Więcej...</a><br /></td></tr>
<tr class="separator:gaf421eba19d82d5b0c170b548b8ff79f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga846edba35e7470251a6a95b1e2364855"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__decoding.html#ga846edba35e7470251a6a95b1e2364855">OP_HEADER_GAIN</a>&#160;&#160;&#160;(0)</td></tr>
<tr class="memdesc:ga846edba35e7470251a6a95b1e2364855"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gain offset type that indicates that the provided offset is relative to the header gain.  <a href="#ga846edba35e7470251a6a95b1e2364855">Więcej...</a><br /></td></tr>
<tr class="separator:ga846edba35e7470251a6a95b1e2364855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72d2506ae978f7dbd3a6a59c57f21036"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__decoding.html#ga72d2506ae978f7dbd3a6a59c57f21036">OP_ALBUM_GAIN</a>&#160;&#160;&#160;(3007)</td></tr>
<tr class="memdesc:ga72d2506ae978f7dbd3a6a59c57f21036"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gain offset type that indicates that the provided offset is relative to the R128_ALBUM_GAIN value (if any), in addition to the header gain.  <a href="#ga72d2506ae978f7dbd3a6a59c57f21036">Więcej...</a><br /></td></tr>
<tr class="separator:ga72d2506ae978f7dbd3a6a59c57f21036"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51082f7c661488bce9bfdf0e5401fabf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__decoding.html#ga51082f7c661488bce9bfdf0e5401fabf">OP_TRACK_GAIN</a>&#160;&#160;&#160;(3008)</td></tr>
<tr class="memdesc:ga51082f7c661488bce9bfdf0e5401fabf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gain offset type that indicates that the provided offset is relative to the R128_TRACK_GAIN value (if any), in addition to the header gain.  <a href="#ga51082f7c661488bce9bfdf0e5401fabf">Więcej...</a><br /></td></tr>
<tr class="separator:ga51082f7c661488bce9bfdf0e5401fabf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4215354abbd19df9eab5a5380dd96cb0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stream__decoding.html#ga4215354abbd19df9eab5a5380dd96cb0">OP_ABSOLUTE_GAIN</a>&#160;&#160;&#160;(3009)</td></tr>
<tr class="memdesc:ga4215354abbd19df9eab5a5380dd96cb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gain offset type that indicates that the provided offset should be used as the gain directly, without applying any the header or track gains.  <a href="#ga4215354abbd19df9eab5a5380dd96cb0">Więcej...</a><br /></td></tr>
<tr class="separator:ga4215354abbd19df9eab5a5380dd96cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Opis szczegółowy</h2>
<h2 class="groupheader">Dokumentacja definicji</h2>
<a id="ga4215354abbd19df9eab5a5380dd96cb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4215354abbd19df9eab5a5380dd96cb0">&#9670;&nbsp;</a></span>OP_ABSOLUTE_GAIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OP_ABSOLUTE_GAIN&#160;&#160;&#160;(3009)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gain offset type that indicates that the provided offset should be used as the gain directly, without applying any the header or track gains. </p>

</div>
</div>
<a id="ga72d2506ae978f7dbd3a6a59c57f21036"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga72d2506ae978f7dbd3a6a59c57f21036">&#9670;&nbsp;</a></span>OP_ALBUM_GAIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OP_ALBUM_GAIN&#160;&#160;&#160;(3007)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gain offset type that indicates that the provided offset is relative to the R128_ALBUM_GAIN value (if any), in addition to the header gain. </p>

</div>
</div>
<a id="gac5c6e0837a5d747fd909aff905f5da3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac5c6e0837a5d747fd909aff905f5da3f">&#9670;&nbsp;</a></span>OP_DEC_FORMAT_FLOAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OP_DEC_FORMAT_FLOAT&#160;&#160;&#160;(7040)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates that the decoding callback should produce 32-bit native-endian float samples. </p>

</div>
</div>
<a id="ga55ed1cb616d856a47d618fa099c742aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55ed1cb616d856a47d618fa099c742aa">&#9670;&nbsp;</a></span>OP_DEC_FORMAT_SHORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OP_DEC_FORMAT_SHORT&#160;&#160;&#160;(7008)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates that the decoding callback should produce signed 16-bit native-endian output samples. </p>

</div>
</div>
<a id="gaf421eba19d82d5b0c170b548b8ff79f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf421eba19d82d5b0c170b548b8ff79f1">&#9670;&nbsp;</a></span>OP_DEC_USE_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OP_DEC_USE_DEFAULT&#160;&#160;&#160;(6720)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates that the decoding callback did not decode anything, and that <code>libopusfile</code> should decode normally instead. </p>

</div>
</div>
<a id="ga846edba35e7470251a6a95b1e2364855"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga846edba35e7470251a6a95b1e2364855">&#9670;&nbsp;</a></span>OP_HEADER_GAIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OP_HEADER_GAIN&#160;&#160;&#160;(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gain offset type that indicates that the provided offset is relative to the header gain. </p>
<p>This is the default. </p>

</div>
</div>
<a id="ga51082f7c661488bce9bfdf0e5401fabf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga51082f7c661488bce9bfdf0e5401fabf">&#9670;&nbsp;</a></span>OP_TRACK_GAIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OP_TRACK_GAIN&#160;&#160;&#160;(3008)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gain offset type that indicates that the provided offset is relative to the R128_TRACK_GAIN value (if any), in addition to the header gain. </p>

</div>
</div>
<h2 class="groupheader">Dokumentacja definicji typów</h2>
<a id="ga81a50874a82484034c22dfeddce177e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga81a50874a82484034c22dfeddce177e1">&#9670;&nbsp;</a></span>op_decode_cb_func</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* op_decode_cb_func) (<a class="el" href="png_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *_ctx, <a class="el" href="group__opus__multistream.html#gad3497495deb9a8ace82e76cd4f93e0e4">OpusMSDecoder</a> *_decoder, <a class="el" href="png_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *_pcm, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="structogg__packet.html">ogg_packet</a> *_op, int _nsamples, int _nchannels, int _format, int _li)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called to decode an Opus packet. </p>
<p>This should invoke the functional equivalent of <a class="el" href="group__opus__multistream.html#ga2db65790cd7e0890a031b2eb17452d7b" title="Decode a multistream Opus packet.">opus_multistream_decode()</a> or <a class="el" href="group__opus__multistream.html#ga32b004586f69b063a447e123e6a2c151" title="Decode a multistream Opus packet with floating point output.">opus_multistream_decode_float()</a>, except that it returns 0 on success instead of the number of decoded samples (which is known a priori). </p><dl class="params"><dt>Parametry</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">_ctx</td><td>The application-provided callback context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_decoder</td><td>The decoder to use to decode the packet. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_pcm</td><td>The buffer to decode into. This will always have enough room for <em>_nchannels</em> of <em>_nsamples</em> samples, which should be placed into this buffer interleaved. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_op</td><td>The packet to decode. This will always have its granule position set to a valid value. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_nsamples</td><td>The number of samples expected from the packet. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_nchannels</td><td>The number of channels expected from the packet. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_format</td><td>The desired sample output format. This is either <a class="el" href="group__stream__decoding.html#ga55ed1cb616d856a47d618fa099c742aa" title="Indicates that the decoding callback should produce signed 16-bit native-endian output samples.">OP_DEC_FORMAT_SHORT</a> or <a class="el" href="group__stream__decoding.html#gac5c6e0837a5d747fd909aff905f5da3f" title="Indicates that the decoding callback should produce 32-bit native-endian float samples.">OP_DEC_FORMAT_FLOAT</a>. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_li</td><td>The index of the link from which this packet was decoded. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Zwraca</dt><dd>A non-negative value on success, or a negative value on error. Any error codes should be the same as those returned by <a class="el" href="group__opus__multistream.html#ga2db65790cd7e0890a031b2eb17452d7b" title="Decode a multistream Opus packet.">opus_multistream_decode()</a> or <a class="el" href="group__opus__multistream.html#ga32b004586f69b063a447e123e6a2c151" title="Decode a multistream Opus packet with floating point output.">opus_multistream_decode_float()</a>. Success codes are as follows: </dd></dl>
<dl class="retval"><dt>Zwracane wartości</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Decoding was successful. The application has filled the buffer with exactly <code><em>_nsamples*<em>_nchannels</code></em> samples</em> in the requested format. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__stream__decoding.html#gaf421eba19d82d5b0c170b548b8ff79f1" title="Indicates that the decoding callback did not decode anything, and that libopusfile should decode norm...">OP_DEC_USE_DEFAULT</a></td><td>No decoding was done. <code>libopusfile</code> should do the decoding by itself instead. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Dokumentacja funkcji</h2>
<a id="ga963c917749335e29bb2b698c1cb20a10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga963c917749335e29bb2b698c1cb20a10">&#9670;&nbsp;</a></span>op_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OP_WARN_UNUSED_RESULT int op_read </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="opus__types_8h.html#acc9ed7cf60479eb81f9648c6ec27dc26">opus_int16</a> *&#160;</td>
          <td class="paramname"><em>_pcm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_buf_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>_li</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads more samples from the stream. </p>
<dl class="section note"><dt>Nota</dt><dd>Although <em>_buf_size</em> must indicate the total number of values that can be stored in <em>_pcm</em>, the return value is the number of samples <em>per channel</em>. This is done because <ol>
<li>
The channel count cannot be known a priori (reading more samples might advance us into the next link, with a different channel count), so <em>_buf_size</em> cannot also be in units of samples per channel, </li>
<li>
Returning the samples per channel matches the <code>libopus</code> API as closely as we're able, </li>
<li>
Returning the total number of values instead of samples per channel would mean the caller would need a division to compute the samples per channel, and might worry about the possibility of getting back samples for some channels and not others, and </li>
<li>
This approach is relatively fool-proof: if an application passes too small a value to <em>_buf_size</em>, they will simply get fewer samples back, and if they assume the return value is the total number of values, then they will simply read too few (rather than reading too many and going off the end of the buffer). </li>
</ol>
</dd></dl>
<dl class="params"><dt>Parametry</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to read. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_pcm</td><td>A buffer in which to store the output PCM samples, as signed native-endian 16-bit values at 48&#160;kHz with a nominal range of <code>[-32768,32767)</code>. Multiple channels are interleaved using the <a href="http://www.xiph.org/vorbis/doc/Vorbis_I_spec.html#x1-800004.3.9">Vorbis channel ordering</a>. This must have room for at least <em>_buf_size</em> values. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_buf_size</td><td>The number of values that can be stored in <em>_pcm</em>. It is recommended that this be large enough for at least 120 ms of data at 48 kHz per channel (5760 values per channel). Smaller buffers will simply return less data, possibly consuming more memory to buffer the data internally. <code>libopusfile</code> may return less data than requested. If so, there is no guarantee that the remaining data in <em>_pcm</em> will be unmodified. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_li</td><td>The index of the link this data was decoded from. You may pass <code>NULL</code> if you do not need this information. If this function fails (returning a negative value), this parameter is left unset. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Zwraca</dt><dd>The number of samples read per channel on success, or a negative value on failure. The channel count can be retrieved on success by calling <code>op_head(_of,*_li)</code>. The number of samples returned may be 0 if the buffer was too small to store even a single sample for all channels, or if end-of-file was reached. The list of possible failure codes follows. Most of them can only be returned by unseekable, chained streams that encounter a new link. </dd></dl>
<dl class="retval"><dt>Zwracane wartości</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga2ac03d35986d3505305d468dd2138b72" title="There was a hole in the page sequence numbers (e.g., a page was corrupt or missing).">OP_HOLE</a></td><td>There was a hole in the data, and some samples may have been skipped. Call this function again to continue decoding past the hole. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga3ad48a4f99b1bed72acec552296dfc08" title="An underlying read, seek, or tell operation failed when it should have succeeded.">OP_EREAD</a></td><td>An underlying read operation failed. This may signal a truncation attack from an &lt;https:&gt; source. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga2ddb887c0bb55c74ea6be391fabcba59" title="A NULL pointer was passed where one was unexpected, or an internal memory allocation failed,...">OP_EFAULT</a></td><td>An internal memory allocation failed. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaeea27378f826033ca23584d8403665d3" title="The stream used a feature that is not implemented, such as an unsupported channel family.">OP_EIMPL</a></td><td>An unseekable stream encountered a new link that used a feature that is not implemented, such as an unsupported channel family. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The stream was only partially open. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gafca3ae244d24e10b2851c77379453220" title="A purported Ogg Opus stream did not begin with an Ogg page, a purported header packet did not start w...">OP_ENOTFORMAT</a></td><td>An unseekable stream encountered a new link that did not have any logical Opus streams in it. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga534f1b45c8733a2928434e482b38869f" title="A required header packet was not properly formatted, contained illegal values, or was missing altoget...">OP_EBADHEADER</a></td><td>An unseekable stream encountered a new link with a required header packet that was not properly formatted, contained illegal values, or was missing altogether. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaa9ae4494f623f3c0609f0b4bd99b8f32" title="The ID header contained an unrecognized version number.">OP_EVERSION</a></td><td>An unseekable stream encountered a new link with an ID header that contained an unrecognized version number. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaa3fa0a3e6facc4f47924271e65bb21ff" title="An audio packet failed to decode properly.">OP_EBADPACKET</a></td><td>Failed to properly decode the next packet. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaf7b58a439a471366e9eb5b8f2a8cd041" title="We failed to find data we had seen before, or the bitstream structure was sufficiently malformed that...">OP_EBADLINK</a></td><td>We failed to find data we had seen before. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaf82657fc888f1dcf2e0d8f066b8a6cc7" title="The first or last granule position of a link failed basic validity checks.">OP_EBADTIMESTAMP</a></td><td>An unseekable stream encountered a new link with a starting timestamp that failed basic validity checks. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga73493002d84a234f5e19b70f1dddbe2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga73493002d84a234f5e19b70f1dddbe2a">&#9670;&nbsp;</a></span>op_read_float()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OP_WARN_UNUSED_RESULT int op_read_float </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>_pcm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_buf_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>_li</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads more samples from the stream. </p>
<dl class="section note"><dt>Nota</dt><dd>Although <em>_buf_size</em> must indicate the total number of values that can be stored in <em>_pcm</em>, the return value is the number of samples <em>per channel</em>. <ol>
<li>
The channel count cannot be known a priori (reading more samples might advance us into the next link, with a different channel count), so <em>_buf_size</em> cannot also be in units of samples per channel, </li>
<li>
Returning the samples per channel matches the <code>libopus</code> API as closely as we're able, </li>
<li>
Returning the total number of values instead of samples per channel would mean the caller would need a division to compute the samples per channel, and might worry about the possibility of getting back samples for some channels and not others, and </li>
<li>
This approach is relatively fool-proof: if an application passes too small a value to <em>_buf_size</em>, they will simply get fewer samples back, and if they assume the return value is the total number of values, then they will simply read too few (rather than reading too many and going off the end of the buffer). </li>
</ol>
</dd></dl>
<dl class="params"><dt>Parametry</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to read. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_pcm</td><td>A buffer in which to store the output PCM samples as signed floats at 48&#160;kHz with a nominal range of <code>[-1.0,1.0]</code>. Multiple channels are interleaved using the <a href="http://www.xiph.org/vorbis/doc/Vorbis_I_spec.html#x1-800004.3.9">Vorbis channel ordering</a>. This must have room for at least <em>_buf_size</em> floats. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_buf_size</td><td>The number of floats that can be stored in <em>_pcm</em>. It is recommended that this be large enough for at least 120 ms of data at 48 kHz per channel (5760 samples per channel). Smaller buffers will simply return less data, possibly consuming more memory to buffer the data internally. If less than <em>_buf_size</em> values are returned, <code>libopusfile</code> makes no guarantee that the remaining data in <em>_pcm</em> will be unmodified. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_li</td><td>The index of the link this data was decoded from. You may pass <code>NULL</code> if you do not need this information. If this function fails (returning a negative value), this parameter is left unset. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Zwraca</dt><dd>The number of samples read per channel on success, or a negative value on failure. The channel count can be retrieved on success by calling <code>op_head(_of,*_li)</code>. The number of samples returned may be 0 if the buffer was too small to store even a single sample for all channels, or if end-of-file was reached. The list of possible failure codes follows. Most of them can only be returned by unseekable, chained streams that encounter a new link. </dd></dl>
<dl class="retval"><dt>Zwracane wartości</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga2ac03d35986d3505305d468dd2138b72" title="There was a hole in the page sequence numbers (e.g., a page was corrupt or missing).">OP_HOLE</a></td><td>There was a hole in the data, and some samples may have been skipped. Call this function again to continue decoding past the hole. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga3ad48a4f99b1bed72acec552296dfc08" title="An underlying read, seek, or tell operation failed when it should have succeeded.">OP_EREAD</a></td><td>An underlying read operation failed. This may signal a truncation attack from an &lt;https:&gt; source. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga2ddb887c0bb55c74ea6be391fabcba59" title="A NULL pointer was passed where one was unexpected, or an internal memory allocation failed,...">OP_EFAULT</a></td><td>An internal memory allocation failed. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaeea27378f826033ca23584d8403665d3" title="The stream used a feature that is not implemented, such as an unsupported channel family.">OP_EIMPL</a></td><td>An unseekable stream encountered a new link that used a feature that is not implemented, such as an unsupported channel family. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The stream was only partially open. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gafca3ae244d24e10b2851c77379453220" title="A purported Ogg Opus stream did not begin with an Ogg page, a purported header packet did not start w...">OP_ENOTFORMAT</a></td><td>An unseekable stream encountered a new link that did not have any logical Opus streams in it. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga534f1b45c8733a2928434e482b38869f" title="A required header packet was not properly formatted, contained illegal values, or was missing altoget...">OP_EBADHEADER</a></td><td>An unseekable stream encountered a new link with a required header packet that was not properly formatted, contained illegal values, or was missing altogether. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaa9ae4494f623f3c0609f0b4bd99b8f32" title="The ID header contained an unrecognized version number.">OP_EVERSION</a></td><td>An unseekable stream encountered a new link with an ID header that contained an unrecognized version number. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaa3fa0a3e6facc4f47924271e65bb21ff" title="An audio packet failed to decode properly.">OP_EBADPACKET</a></td><td>Failed to properly decode the next packet. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaf7b58a439a471366e9eb5b8f2a8cd041" title="We failed to find data we had seen before, or the bitstream structure was sufficiently malformed that...">OP_EBADLINK</a></td><td>We failed to find data we had seen before. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaf82657fc888f1dcf2e0d8f066b8a6cc7" title="The first or last granule position of a link failed basic validity checks.">OP_EBADTIMESTAMP</a></td><td>An unseekable stream encountered a new link with a starting timestamp that failed basic validity checks. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9736f96563500c0978f56f0fd6bdad83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9736f96563500c0978f56f0fd6bdad83">&#9670;&nbsp;</a></span>op_read_float_stereo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OP_WARN_UNUSED_RESULT int op_read_float_stereo </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>_pcm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_buf_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads more samples from the stream and downmixes to stereo, if necessary. </p>
<p>This function is intended for simple players that want a uniform output format, even if the channel count changes between links in a chained stream. </p><dl class="section note"><dt>Nota</dt><dd><em>_buf_size</em> indicates the total number of values that can be stored in <em>_pcm</em>, while the return value is the number of samples <em>per channel</em>, even though the channel count is known, for consistency with <a class="el" href="group__stream__decoding.html#ga73493002d84a234f5e19b70f1dddbe2a" title="Reads more samples from the stream.">op_read_float()</a>. </dd></dl>
<dl class="params"><dt>Parametry</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to read. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_pcm</td><td>A buffer in which to store the output PCM samples, as signed floats at 48&#160;kHz with a nominal range of <code>[-1.0,1.0]</code>. The left and right channels are interleaved in the buffer. This must have room for at least <em>_buf_size</em> values. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_buf_size</td><td>The number of values that can be stored in <em>_pcm</em>. It is recommended that this be large enough for at least 120 ms of data at 48 kHz per channel (11520 values total). Smaller buffers will simply return less data, possibly consuming more memory to buffer the data internally. If less than <em>_buf_size</em> values are returned, <code>libopusfile</code> makes no guarantee that the remaining data in <em>_pcm</em> will be unmodified. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Zwraca</dt><dd>The number of samples read per channel on success, or a negative value on failure. The number of samples returned may be 0 if the buffer was too small to store even a single sample for both channels, or if end-of-file was reached. The list of possible failure codes follows. Most of them can only be returned by unseekable, chained streams that encounter a new link. </dd></dl>
<dl class="retval"><dt>Zwracane wartości</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga2ac03d35986d3505305d468dd2138b72" title="There was a hole in the page sequence numbers (e.g., a page was corrupt or missing).">OP_HOLE</a></td><td>There was a hole in the data, and some samples may have been skipped. Call this function again to continue decoding past the hole. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga3ad48a4f99b1bed72acec552296dfc08" title="An underlying read, seek, or tell operation failed when it should have succeeded.">OP_EREAD</a></td><td>An underlying read operation failed. This may signal a truncation attack from an &lt;https:&gt; source. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga2ddb887c0bb55c74ea6be391fabcba59" title="A NULL pointer was passed where one was unexpected, or an internal memory allocation failed,...">OP_EFAULT</a></td><td>An internal memory allocation failed. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaeea27378f826033ca23584d8403665d3" title="The stream used a feature that is not implemented, such as an unsupported channel family.">OP_EIMPL</a></td><td>An unseekable stream encountered a new link that used a feature that is not implemented, such as an unsupported channel family. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The stream was only partially open. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gafca3ae244d24e10b2851c77379453220" title="A purported Ogg Opus stream did not begin with an Ogg page, a purported header packet did not start w...">OP_ENOTFORMAT</a></td><td>An unseekable stream encountered a new link that that did not have any logical Opus streams in it. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga534f1b45c8733a2928434e482b38869f" title="A required header packet was not properly formatted, contained illegal values, or was missing altoget...">OP_EBADHEADER</a></td><td>An unseekable stream encountered a new link with a required header packet that was not properly formatted, contained illegal values, or was missing altogether. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaa9ae4494f623f3c0609f0b4bd99b8f32" title="The ID header contained an unrecognized version number.">OP_EVERSION</a></td><td>An unseekable stream encountered a new link with an ID header that contained an unrecognized version number. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaa3fa0a3e6facc4f47924271e65bb21ff" title="An audio packet failed to decode properly.">OP_EBADPACKET</a></td><td>Failed to properly decode the next packet. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaf7b58a439a471366e9eb5b8f2a8cd041" title="We failed to find data we had seen before, or the bitstream structure was sufficiently malformed that...">OP_EBADLINK</a></td><td>We failed to find data we had seen before. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaf82657fc888f1dcf2e0d8f066b8a6cc7" title="The first or last granule position of a link failed basic validity checks.">OP_EBADTIMESTAMP</a></td><td>An unseekable stream encountered a new link with a starting timestamp that failed basic validity checks. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaaca17ad3fd6430dc8fd43308149428eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaca17ad3fd6430dc8fd43308149428eb">&#9670;&nbsp;</a></span>op_read_stereo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OP_WARN_UNUSED_RESULT int op_read_stereo </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="opus__types_8h.html#acc9ed7cf60479eb81f9648c6ec27dc26">opus_int16</a> *&#160;</td>
          <td class="paramname"><em>_pcm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_buf_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads more samples from the stream and downmixes to stereo, if necessary. </p>
<p>This function is intended for simple players that want a uniform output format, even if the channel count changes between links in a chained stream. </p><dl class="section note"><dt>Nota</dt><dd><em>_buf_size</em> indicates the total number of values that can be stored in <em>_pcm</em>, while the return value is the number of samples <em>per channel</em>, even though the channel count is known, for consistency with <a class="el" href="group__stream__decoding.html#ga963c917749335e29bb2b698c1cb20a10" title="Reads more samples from the stream.">op_read()</a>. </dd></dl>
<dl class="params"><dt>Parametry</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">_of</td><td>The <code>OggOpusFile</code> from which to read. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_pcm</td><td>A buffer in which to store the output PCM samples, as signed native-endian 16-bit values at 48&#160;kHz with a nominal range of <code>[-32768,32767)</code>. The left and right channels are interleaved in the buffer. This must have room for at least <em>_buf_size</em> values. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">_buf_size</td><td>The number of values that can be stored in <em>_pcm</em>. It is recommended that this be large enough for at least 120 ms of data at 48 kHz per channel (11520 values total). Smaller buffers will simply return less data, possibly consuming more memory to buffer the data internally. If less than <em>_buf_size</em> values are returned, <code>libopusfile</code> makes no guarantee that the remaining data in <em>_pcm</em> will be unmodified. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Zwraca</dt><dd>The number of samples read per channel on success, or a negative value on failure. The number of samples returned may be 0 if the buffer was too small to store even a single sample for both channels, or if end-of-file was reached. The list of possible failure codes follows. Most of them can only be returned by unseekable, chained streams that encounter a new link. </dd></dl>
<dl class="retval"><dt>Zwracane wartości</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga2ac03d35986d3505305d468dd2138b72" title="There was a hole in the page sequence numbers (e.g., a page was corrupt or missing).">OP_HOLE</a></td><td>There was a hole in the data, and some samples may have been skipped. Call this function again to continue decoding past the hole. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga3ad48a4f99b1bed72acec552296dfc08" title="An underlying read, seek, or tell operation failed when it should have succeeded.">OP_EREAD</a></td><td>An underlying read operation failed. This may signal a truncation attack from an &lt;https:&gt; source. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga2ddb887c0bb55c74ea6be391fabcba59" title="A NULL pointer was passed where one was unexpected, or an internal memory allocation failed,...">OP_EFAULT</a></td><td>An internal memory allocation failed. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaeea27378f826033ca23584d8403665d3" title="The stream used a feature that is not implemented, such as an unsupported channel family.">OP_EIMPL</a></td><td>An unseekable stream encountered a new link that used a feature that is not implemented, such as an unsupported channel family. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The stream was only partially open. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gafca3ae244d24e10b2851c77379453220" title="A purported Ogg Opus stream did not begin with an Ogg page, a purported header packet did not start w...">OP_ENOTFORMAT</a></td><td>An unseekable stream encountered a new link that did not have any logical Opus streams in it. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#ga534f1b45c8733a2928434e482b38869f" title="A required header packet was not properly formatted, contained illegal values, or was missing altoget...">OP_EBADHEADER</a></td><td>An unseekable stream encountered a new link with a required header packet that was not properly formatted, contained illegal values, or was missing altogether. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaa9ae4494f623f3c0609f0b4bd99b8f32" title="The ID header contained an unrecognized version number.">OP_EVERSION</a></td><td>An unseekable stream encountered a new link with an ID header that contained an unrecognized version number. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaa3fa0a3e6facc4f47924271e65bb21ff" title="An audio packet failed to decode properly.">OP_EBADPACKET</a></td><td>Failed to properly decode the next packet. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaf7b58a439a471366e9eb5b8f2a8cd041" title="We failed to find data we had seen before, or the bitstream structure was sufficiently malformed that...">OP_EBADLINK</a></td><td>We failed to find data we had seen before. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gaf82657fc888f1dcf2e0d8f066b8a6cc7" title="The first or last granule position of a link failed basic validity checks.">OP_EBADTIMESTAMP</a></td><td>An unseekable stream encountered a new link with a starting timestamp that failed basic validity checks. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae0d5b986dff23a82b6002915268ee3d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae0d5b986dff23a82b6002915268ee3d1">&#9670;&nbsp;</a></span>op_set_decode_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="png_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> op_set_decode_callback </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__stream__decoding.html#ga81a50874a82484034c22dfeddce177e1">op_decode_cb_func</a>&#160;</td>
          <td class="paramname"><em>_decode_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="png_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *&#160;</td>
          <td class="paramname"><em>_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the packet decode callback function. </p>
<p>If set, this is called once for each packet that needs to be decoded. This can be used by advanced applications to do additional processing on the compressed or uncompressed data. For example, an application might save the final entropy coder state for debugging and testing purposes, or it might apply additional filters before the downmixing, dithering, or soft-clipping performed by <code>libopusfile</code>, so long as these filters do not introduce any latency.</p>
<p>A call to this function is no guarantee that the audio will eventually be delivered to the application. <code>libopusfile</code> may discard some or all of the decoded audio data (i.e., at the beginning or end of a link, or after a seek), however the callback is still required to provide all of it. </p><dl class="params"><dt>Parametry</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> on which to set the decode callback. </td></tr>
    <tr><td class="paramname">_decode_cb</td><td>The callback function to call. This may be <code>NULL</code> to disable calling the callback. </td></tr>
    <tr><td class="paramname">_ctx</td><td>The application-provided context pointer to pass to the callback on each call. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac1de9480ad0fa65de778d9c88f62f6f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1de9480ad0fa65de778d9c88f62f6f3">&#9670;&nbsp;</a></span>op_set_dither_enabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="png_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> op_set_dither_enabled </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets whether or not dithering is enabled for 16-bit decoding. </p>
<p>By default, when <code>libopusfile</code> is compiled to use floating-point internally, calling <a class="el" href="group__stream__decoding.html#ga963c917749335e29bb2b698c1cb20a10" title="Reads more samples from the stream.">op_read()</a> or <a class="el" href="group__stream__decoding.html#gaaca17ad3fd6430dc8fd43308149428eb" title="Reads more samples from the stream and downmixes to stereo, if necessary.">op_read_stereo()</a> will first decode to float, and then convert to fixed-point using noise-shaping dithering. This flag can be used to disable that dithering. When the application uses <a class="el" href="group__stream__decoding.html#ga73493002d84a234f5e19b70f1dddbe2a" title="Reads more samples from the stream.">op_read_float()</a> or <a class="el" href="group__stream__decoding.html#ga9736f96563500c0978f56f0fd6bdad83" title="Reads more samples from the stream and downmixes to stereo, if necessary.">op_read_float_stereo()</a>, or when the library has been compiled to decode directly to fixed point, this flag has no effect. </p><dl class="params"><dt>Parametry</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> on which to enable or disable dithering. </td></tr>
    <tr><td class="paramname">_enabled</td><td>A non-zero value to enable dithering, or 0 to disable it. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7df927613ccf57996319678e08513289"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7df927613ccf57996319678e08513289">&#9670;&nbsp;</a></span>op_set_gain_offset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int op_set_gain_offset </td>
          <td>(</td>
          <td class="paramtype">OggOpusFile *&#160;</td>
          <td class="paramname"><em>_of</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_gain_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="opus__types_8h.html#aa4d309d6f80b99dbabebc8f98879ab9a">opus_int32</a>&#160;</td>
          <td class="paramname"><em>_gain_offset_q8</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the gain to be used for decoded output. </p>
<p>By default, the gain in the header is applied with no additional offset. The total gain (including header gain and/or track gain, if applicable, and this offset), will be clamped to [-32768,32767]/256 dB. This is more than enough to saturate or underflow 16-bit PCM. </p><dl class="section note"><dt>Nota</dt><dd>The new gain will not be applied to any already buffered, decoded output. This means you cannot change it sample-by-sample, as at best it will be updated packet-by-packet. It is meant for setting a target volume level, rather than applying smooth fades, etc. </dd></dl>
<dl class="params"><dt>Parametry</dt><dd>
  <table class="params">
    <tr><td class="paramname">_of</td><td>The <code>OggOpusFile</code> on which to set the gain offset. </td></tr>
    <tr><td class="paramname">_gain_type</td><td>One of <a class="el" href="group__stream__decoding.html#ga846edba35e7470251a6a95b1e2364855" title="Gain offset type that indicates that the provided offset is relative to the header gain.">OP_HEADER_GAIN</a>, <a class="el" href="group__stream__decoding.html#ga72d2506ae978f7dbd3a6a59c57f21036" title="Gain offset type that indicates that the provided offset is relative to the R128_ALBUM_GAIN value (if...">OP_ALBUM_GAIN</a>, <a class="el" href="group__stream__decoding.html#ga51082f7c661488bce9bfdf0e5401fabf" title="Gain offset type that indicates that the provided offset is relative to the R128_TRACK_GAIN value (if...">OP_TRACK_GAIN</a>, or <a class="el" href="group__stream__decoding.html#ga4215354abbd19df9eab5a5380dd96cb0" title="Gain offset type that indicates that the provided offset should be used as the gain directly,...">OP_ABSOLUTE_GAIN</a>. </td></tr>
    <tr><td class="paramname">_gain_offset_q8</td><td>The gain offset to apply, in 1/256ths of a dB. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Zwraca</dt><dd>0 on success or a negative value on error. </dd></dl>
<dl class="retval"><dt>Zwracane wartości</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error__codes.html#gae0879acafe9cc0ab72462d291fdb6fb6" title="One or more parameters to a function were invalid.">OP_EINVAL</a></td><td>The <em>_gain_type</em> was unrecognized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Wygenerowano przez
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
